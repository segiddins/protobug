# frozen_string_literal: true

# Code generated by protoc-gen-protobug. DO NOT EDIT.

# source: in_toto_attestation/v1/resource_descriptor.proto
# syntax: proto3
# package: in_toto_attestation.v1
# options:
#   java_package: "io.github.intoto.attestation.v1"
#   go_package: "github.com/in-toto/attestation/go/v1"

require "protobug"

require "google/protobuf/struct_pb"

module InTotoAttestation
  module V1
    # Proto representation of the in-toto v1 ResourceDescriptor.
    # https://github.com/in-toto/attestation/blob/main/spec/v1/resource_descriptor.md
    # Validation of all fields is left to the users of this proto.
    class ResourceDescriptor
      extend Protobug::Message

      self.full_name = "in_toto_attestation.v1.ResourceDescriptor"

      optional(1, "name", type: :string, proto3_optional: false)
      optional(2, "uri", type: :string, proto3_optional: false)
      map(3, "digest", key_type: :string, value_type: :string)
      optional(4, "content", type: :bytes, proto3_optional: false)
      optional(
        5,
        "download_location",
        type: :string,
        json_name: "downloadLocation",
        proto3_optional: false
      )
      optional(
        6,
        "media_type",
        type: :string,
        json_name: "mediaType",
        proto3_optional: false
      )
      # Per the Struct protobuf spec, this type corresponds to
      # a JSON Object, which is truly a map<string, Value> under the hood.
      # So, the Struct a) is still consistent with our specification for
      # the `annotations` field, and b) has native support in some language
      # bindings making their use easier in implementations.
      # See: https://pkg.go.dev/google.golang.org/protobuf/types/known/structpb#Struct
      optional(
        7,
        "annotations",
        type: :message,
        message_class: "Google::Protobuf::Struct",
        proto3_optional: false
      )
    end
  end
end
